{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management</title>
    <!-- <link rel="stylesheet" href="{ static ../static/css/UserManagement.css }""{% static 'myfirst.css' %}"> -->
    <link rel="stylesheet" href="{% static 'css/UserManagement.css' %}">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    
</head>
<body>
    <div class="background">
        <div class="header">
                
                
                <div>

                </div>
                <div class="heading">
                    <h2>User Management</h2>  
                </div>
                <div class="dropdown_btn">
                    <div class="dropdown">
                        <button class="dropbtn">Menu</button>
                        
                        <div class="dropdown-content">
                        <a href="/admindashboard">Dashboard</a>
                        <a href="/adminHistory">History</a>
                        <a href="/logout">Logout</a>
                        </div>
                    </div>
                </div>

        </div>
        <div class="row_for_alert" id="row">
               
        </div>
        <div class="search_bar">
            <input class="Inputs" type="text" id="searchInput" onkeyup="searchTable()" placeholder="Search..">
        </div>
        <div class="content">
            <div class="signup">
                <form id="My_form" method="POST">
                
                    <div class="inner_content">
                        <div>
                            <input class="Inputs" name="username" type="text" placeholder="Name">
                        </div>
                        <div>
                            <input class="Inputs" name="employee_id" type="text" placeholder="Employee ID">
                        </div>
                        <div>
                            <input class="Inputs" name="email" type="email" placeholder="Email Address">
                        </div>
                        <div>
                            <input class="Inputs" name="password" type="password" placeholder="Password">
                        </div>
                        <div class="btn_for_form">
                            <button name="edit-btn" class="Edit" onclick="saveEdit()">Edit</button>
                        </div>
                        <div class="btn_for_form">
                            <button class="clear" type="reset">Clear</button>
                            <button  name="add" class="add" type="submit" onclick="addUser()">Add</button>
                        </div>
                    </div>
                </form>       
            </div>
            <div class="list_of_users">
                <table id="myTable">
                    <thead>
                        <tr>
                            <th>S.no</th>
                            <th>Name</th>
                            <th>EmployeeID</th>
                            <th>Email</th>
                            <th>Edit</th>
                            <th>Delete User</th>
                            <th>Is_Active</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for user in users %}
                        <tr>
                            <td></td>
                            <td>{{ user.username }}</td>
                            <td>{{ user.userdetails.employee_id }}</td>
                            <td>{{ user.email }}</td>
                            <td><div class="del_btn"><button class="edit" type="submit"  id="{{user.id}}" onclick="edit(this.id)">Edit</button></div></td>
                            <td><div class="del_btn"><button class="del" type="submit"  id="{{user.id}}" onclick="del(this.id)">Delete</button></div></td>
                            <td><div class="del_btn"> <button class="{% if user.is_active %}isActive_true{% else %}isActive_false{% endif %}"  type="submit"  id="activeBtn{{ user.id }}" onclick="activeId('{{ user.id }}', 'activeBtn{{ user.id }}', '{{ user.is_active }}')">{% if user.is_active %}Active{% else %}Inactive{% endif %}</button></div></td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            
        </div>
        <div class="footer">
            <div>
            </div>
        </div>
    </div>
</body>
<script src="{% static 'js/UserManagement.js' %}"></script>
</html>